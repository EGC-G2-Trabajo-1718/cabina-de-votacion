language: node_js

node_js:
- "node"
- "9"

# Instalamos grunt en el caso de que no lo esté
before_install:
  - npm install -g grunt-cli
install:
  - npm install

script:
  - npm test

notifications:
 email:
  recipients:
  - jorgegaguilar@hotmail.es
  - antonio.rdgz.a@gmail.com
  - dinossolatte@gmail.com
  - yuukiizumi@hotmail.es
  - karli-chin@hotmail.com
  on_success: never
  on_failure: always

# Esta sección se encarga de gestionar la automatización del despliegue

before_deploy:
  - grunt clean
  - grunt uglify
deploy:
  provider: releases
  file: "bundle.js"
  skip_cleanup: true
  on:
    tags: true